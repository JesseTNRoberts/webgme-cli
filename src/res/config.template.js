// DO NOT EDIT THIS FILE
// This file is automatically generated from the webgme-setup-tool.
'use strict';

<% if (typeof seed === "undefined") seed = [];
if (typeof addOn === "undefined") addOn = [];
if (typeof plugin === "undefined") plugin = [];

var dirname = function(path) {
  var pathItems = path.split('/');
  pathItems.pop();
  return pathItems.join('/');
};

var printConfigPaths = function(name, paths) {
  paths = _.uniq(paths);
  return paths.map(function(path) {
    return 'config.'+name+'.basePaths.push("'+path+'");'
  }).join('\n');
}; %>

var config = require('webgme/config/config.default'),
    validateConfig = require('webgme/config/validator');

<% // FIXME: This needs to be restructured... %>
// The paths can be loaded from the webgme-setup.json
<%= printConfigPaths('plugin', plugin.map(dirname)) %>
<%= printConfigPaths('addOn', addOn.map(dirname)) %>
<%= printConfigPaths('seedProjects', seed) %>

<% if (addOn.length > 0) { %>config.addOn.enable = true<%}%>

validateConfig(config);
module.exports = config;
